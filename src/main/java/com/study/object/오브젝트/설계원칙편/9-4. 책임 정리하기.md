---

# 🎮 테스트 어드벤처 게임 리팩터링 핵심 요약

## (책임 재분배 · SRP 강화 · Game → World 분리)

---

## 1️⃣ 문제 인식 — 기능 추가 이후 설계 품질 저하

### 발생한 상황

* 요구사항이 계속 추가됨 (Transfer, TakeItem, DropItem, ThrowItem, DestroyItem 등)
* 기능은 동작하지만 **책임이 Game 클래스에 과도하게 집중**
* “작동은 되지만 설계 품질이 무너질 위험” 발생

### 핵심 문제

* 기능 구현에만 집중 → **책임 구조를 놓치기 쉬움**
* 클래스가 점점 **비대해지고 응집도가 낮아짐**

---

## 2️⃣ 설계 개선 전략 — 책임을 다시 분배하자

### 기본 원칙

> **기능이 안정되면 책임을 재검토하고 구조를 재정리해야 한다**

### 접근 방식

* 인스턴스 변수와 메서드의 **관계를 분석**
* Player / IO / 명령 실행 로직이 **Game에 과도하게 집중됨**을 확인

---

## 3️⃣ Game 클래스의 책임 축소 → World 클래스로 분리

### Game 클래스에 있던 책임

* Player 접근
* IO 출력
* 아이템 이동 / 명령 실행
* 월드 상태 관리

### 해결 방법

👉 **World 클래스를 새로 도입**

### World가 담당하게 된 책임

* Player 및 Room과 협력
* 아이템 이동 및 관리
* 게임 세계의 규칙과 상태 처리

### 결과

* **Game = 전체 실행 흐름 조정**
* **World = 실제 게임 세계 로직 담당**

---

## 4️⃣ 역할 분리 결과 — Game은 오케스트레이터가 됨

### 리팩터링 후 Game의 역할

* 명령 파싱
* 명령 실행 흐름 제어
* 실행 종료 관리

### World의 역할

* 개별 명령 실행 로직 담당
* Player / Room / Item 조작
* 게임 세계 상태 유지

### 구조적 의미

> **Game = 컨트롤러**
> **World = 도메인 엔진**

---

## 5️⃣ 단일 책임 원칙(SRP) 적용 효과

### 변경 전 문제

* Game이:

    * 실행 흐름 관리
    * UI 출력
    * 아이템 이동
    * 월드 상태 변경
    * 도움말 출력까지 담당

### 변경 후 책임 분리

| 책임       | 담당 클래스          |
| -------- | --------------- |
| 실행 흐름    | Game            |
| 게임 세계 로직 | World           |
| 명령 파싱    | CommandParser   |
| 도움말 출력   | Help / Parser   |
| 아이템 이동   | Transfer        |
| 파괴 / 던지기 | Destroy / Throw |

### 결과

* **클래스 응집도 증가**
* **변경 범위 감소**
* **기능 추가 시 수정 대상 명확**

---

## 6️⃣ Help 출력 책임 분리 (SRP 강화)

### 문제

* `showHelp()`가 Game 내부에 존재
* 명령이 추가될 때마다 Game 수정 필요 → SRP 위반

### 개선

* Help 메시지 생성 책임 → **CommandParser로 이동**
* Game은 출력만 담당

### 효과

> **명령이 늘어나도 Game을 수정하지 않아도 됨**

---

## 7️⃣ 설계 품질 개선 요약

### Before

* Game이 Player, IO, World, Commands 모두 관리
* 기능 추가 시 Game 수정 필수
* 책임 혼재 → 유지보수 어려움

### After

* World가 게임 로직 담당
* Game은 실행 흐름만 담당
* 책임 분리 명확
* 변경 이유가 클래스별로 단일화됨

---

## 8️⃣ 핵심 교훈

### ✅ 기능 구현 후 반드시 해야 할 것

* **“지금 이 책임은 올바른 위치인가?” 재검토**
* **SRP 기준으로 책임 재배치**
* **Game 같은 God Object를 분해**

### ✅ 좋은 설계란

> **“기능이 아니라 변경 이유 기준으로 클래스를 나누는 것”**

---

## 9️⃣ 한 줄 요약 (면접용)

> **“Game 클래스에 몰려 있던 책임을 World와 Command 계층으로 분리해 SRP를 만족시키고, 기능 확장 시 수정 범위를 최소화하도록 리팩터링했습니다.”**

---