* 일관성 없는 코드가 가지는 문제점
  * 코드를 이해하기 어렵다
  * 기능을 추가하면 할 수록 코드 사이의 일관성이 어긋나게 된다.
* 유사한 요구사항을 구현하는 서로 다른 구조의 코드는 코드를 이해하는 데 심리적인 장벽을 만든다.
* 유사한 기능은 유사한 방식으로 구현해야 한다.
* 유지보수 가능한 시스템을 구축하는 첫걸음은 협력을 일관성 있게 만드는 것이다.

## 설계에 일관성 부여하기
* 일관성 있는 설계를 만드는데 가장 훌륭한 조언은 다양한 설계 경험을 익히라는 것이다.
* 디자인 패턴을 학습하고 변경이라는 문맥 안에서 디자인 패턴을 적용해 보라는 것이다.
* 디자인 패턴을 학습하면 빠른 시간 안에 전문가의 경험을 흡수할 수 있다.
* 디자인 패턴이 반복적으로 적용할 수 있는 설계 구조를 제공한다고 하더라도 모든 경우에 적합한 패턴을 찾을 수 있는 것은 아니다.
  * 따라서 협력을 일관성 있게 만들기 위해 다음과 같은 기본 지침을 따르는 것이 도움이 될 것이다.
    * 변하는 개념을 변하지 않는 개념으로부터 분리하라.
    * 변하는 개념을 캡슐화하라.
* 변경에 초점을 맞추고 캡슐화의 관검에서 설계를 바라보면 일관성 있는 협력 패턴을 얻을 수 있다.

### 캡슐화 다시 살펴보기
* 캡슐화는 데이터 은닉 이상이다.
* 데이터 은닉이란 오직 외부에 공개된 메서드를 통해서만 객체의 내부에 접근할 수 있게 제한함으로써 객체 내부의 상태 구현을 숨기는 기법을 가리킨다.
* 소프트웨어 안에서 변할 수 있는 모든 개념을 감추는 것이다.
* 캡슐화의 종류
  * 데이터 캡슐화
  * 메서드 캡슐화
  * 객체 캡슐화
  * 서브타입 캡슐화
* 캡슐화란 데이터 은닉을 의미하는 것이 아니고 코드 수정으로 인한 파급효과를 제어할 수 있는 모든 기법이 캡슐화의 일종이다.
* 변경을 캡슐화할 수 있는 다양한 방법이 존재하지만 협력을 일관성 있게 만들기 위해 가장 일반적으로 사용하는 방법은 서브타입 캡슐화와 객체 캡슐화를 조합하는 것이다.
  * 변하는 부분을 분리해서 타입 계층을 만든다.
    * 변하는 부분들의 공통적인 행동을 추상 클래스나 인터페이스로 추상화한 후 변하는 부분들이 이 추상 클래스나 인터페이스를 상속받게 만든다.
  * 변하지 않는 부분의 일부로 타입 계층을 합성한다.
    * 변하지 않는 부분에서는 변경되는 구체적인 사항에 결합돼서는 안된다.
    * 의존성 주입과 같이 결합도를 느슨하게 유지할 수 있는 방법을 이용해 오직 추상화에만 의존하게 만든다.

### 개념적 무결성
* 시스템 설계에서 가장 즁요하다고 주장한다.
* 하나로 통합된 일련의 설계 아이디어를 반영하는 시스템이 훨씬 좋다

### 패턴을 찾아라
* 일관성 있는 협력의 핵심은 변경을 분리하고 캡슐화하는 것이다.
* 변경을 캡슐화하는 방법이 협력에 참여하는 객체들의 역할과 책임을 결정하고 이렇게 결정된 협력이 코드의 구조를 결정한다.
* 따라서 훌륭한 설계자가 되는 첫검음은 변경의 방향을 파악할 수 있는 날카로운 감각을 기르는 것이다.
* 그리고 이 변경에 탄력적으로 대응할 수 있는 다양한 캡슐화 방법과 설계 방법을 익히는 것 역시 중요하다.
* 애플리케이션에서 유사한 기능에 대한 변경이 지속적으로 발생하고 있다면 변경을 캡슐화할 수 있는
  적절한 추싱화를 찾은 후, 이 추싱화에 변하지 않는 공통적인 책임을 할당하라. 
* 현재의 구조가 변경을 캡슐화하기에 적합하지 않다면 코드를 수정하지 않고도 원하는 변경을 수용할 수 있도록 협력과 코드를 리팩터링하라. 
* 변경을 수용할 수 있는 적절한 역할과 책임을 찾다 보면 협력의 일관성이 서서히 윤곽을 드러낼 것이다.
  협력을 일관성 있게 만드는 과정은 유사한 기능을 구현하기 위해 반복적으로 적용할 수 있는 협력의 구조를 찾아가는 기나긴 여정이다. 
* 따라서 협력을 일관성 있게 만든다는 것은 유사한 변경을 수용할 수 있는 협력 패턴을 발견히는 것과 동일하다.